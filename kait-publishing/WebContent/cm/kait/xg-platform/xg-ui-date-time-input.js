(function(){"use strict";!function(a,b){return"function"==typeof define&&define.amd?define("XgUIDateTimeInput",["jquery","XgCommon","XgUICommon"],b):a.XgUIDateTimeInput=b(a.jQuery,a.XgCommon,a.XgUICommon)}(window,function(a,b,c){var d,e,f;return f="xg-ui-date-time-input.js",XgPlatform.XgLogger.info(function(){return f+" : load start"}),e=function(d,e){var f,g,h,i,j,k;return i=d.data("xg-bind-data-set"),k=d.data("xg-bind-data-table-id"),j=i.getDataTable(k),f=d.data("xg-bind-option"),h={},f||(f={mode:"read",sync:!0,immediately:!0,bind:{type:"column"}},d.data("xg-bind-option",f)),c.setUUID(d),i.bindComponent(d,"jqxDateTimeInput"),a.extend(!0,h,d.data("xg-bind-option"),e),d.data("xg-bind-option",h),c.setBindColInfo(j,h),c.removeEvents(d,["valueChanged","change","xg-bind-event"]),("write"===(g=h.mode)||"read"===g)&&d.on("xg-bind-event",function(a,c){var e,f,g,l,m,n,o,p,q,r;if(d.data("xg-uuid")===c.uuid||c.xgDataTableId!==k)return!1;if("setRowPos"===c.eventName)p=c.rowIdx,o=j.getRow(p),q=o.status,e=h.bind.columnIndex,d.data("xg-target-index",p),"column"===h.bind.type&&(n=o[e],r="string"==typeof n&&8===n.length?b.getDateStrFromGauceDate(n):"string"==typeof n&&b.isValidDate(n)||n instanceof Date||null===n?n:new Date),h.sync&&(g=!1,(q===b.constant.STATUS.DELETE||q!==b.constant.STATUS.INSERT&&((m=j.getColumnConstraint(e))===b.constant.CONSTRAINT.KEY||m===b.constant.CONSTRAINT.SEQUENCE))&&(g=!0),d.jqxDateTimeInput("disabled")!==g&&d.jqxDateTimeInput({disabled:g}));else if("xgDataTableInit"===c.eventName)r=null;else{if(f=d.data("xg-target-index"),c.rowIdx!==f)return!1;if("setValue"===c.eventName){if("column"!==h.bind.type||c.bind.column!==h.bind.column)return!1;r="string"==typeof c.value&&8===c.value.length?b.getDateStrFromGauceDate(c.value):"string"==typeof c.value&&b.isValidDate(c.value)||c.value instanceof Date||null===c.value?c.value:new Date}"deleteRow"===c.eventName&&h.sync&&d.jqxDateTimeInput({disabled:!0})}return l=h.immediately?"valueChanged":"change","write"===h.mode&&d.off(l),void 0!==r&&d.jqxDateTimeInput("val",r),b.isIEBrowser()&&d.find("input").trigger("blur"),"write"===h.mode?d.on(l,function(){return i.$eventEmitter.trigger("xg-bind-event",{uuid:d.data("xg-uuid"),eventName:"setValue",bind:h.bind,rowIdx:j.getRowPos(),value:d.jqxDateTimeInput("value"),xgDataTableId:k})}):void 0}),d},a.fn.xgDateTimeInput=function(){var d,g,h,i,j,k,l,m,n,o;if(a(this).attr("data-xg-date-time-input",""),h=this,this.selector&&(h=this.selector),m=arguments,XgPlatform.XgLogger.debug(function(){return["XgUIDateTimeInput",h,m]}),arguments[0]instanceof Object){if(l=arguments[0],l.calendar&&(l.calendar instanceof Object&&(j=a(h).jqxDateTimeInput("calendarContainer"),j.jqxCalendar(l.calendar)),delete l.calendar),l.xgInitOption){if(k={},i=a(this).data("xg-init-option"),a.extend(!0,k,i,l.xgInitOption),a(this).data("xg-init-option",k),"string"==typeof l.xgInitOption.xgDataSet&&(l.xgInitOption.xgDataSet=b.getDataSet(l.xgInitOption.xgDataSet)),o=c.setXgDataTable(l.xgInitOption.xgDataTable,l),"string"==typeof l.xgInitOption.xgDataTable){if(!l.xgInitOption.xgDataSet)throw new b.Error("Require xgDataSet option property",f);l.xgInitOption.xgDataTable=l.xgInitOption.xgDataSet.getDataTable(l.xgInitOption.xgDataTable)}return a(this).data("xg-bind-data-set",l.xgInitOption.xgDataSet),a(this).data("xg-bind-data-table-id",l.xgInitOption.xgDataTable.getId()),n=l.xgBindOption,b.deleteProperties(l,["xgInitOption","xgBindOption"]),d=a(this).jqxDateTimeInput(l),n&&e(d,n,l),d}}else if("string"==typeof arguments[0]){if("xgInitOption"===arguments[0])return a(this).data("xg-init-option");if("xgBindOption"===arguments[0])return a(this).data("xg-bind-option");if("calendar"===arguments[0]&&arguments[1]instanceof Object)return g=a(this).jqxDateTimeInput("calendarContainer"),g.jqxCalendar(arguments[1]),a(this)}return a.fn.jqxDateTimeInput.apply(this,arguments)},d=function(){var b,c;return b=Array.prototype.slice.call(arguments,0,1)[0],c=Array.prototype.slice.call(arguments,1)[0],c||a(b).xgDateTimeInput(),c&&a(b).xgDateTimeInput(c),a(b)},a(document).ready(function(){var b,c,d,e,f,g,h,i;for(h=a("[data-xg-date-time-input]"),i=[],f=e=0,g=h.length;g>e;f=++e)d=h[f],b=a(d),c=b.data("xg-option"),c&&b.xgDateTimeInput(c),i.push(c?void 0:b.xgDateTimeInput());return i}),XgPlatform.XgLogger.info(function(){return f+" : load end"}),d})}).call(this);